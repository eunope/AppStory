# gulp-nts-uit-index-helper

> gulp용 index 생성 도우미

## Getting Started
This plugin requires Gulp `^3.9.1`

If you haven't used [Gulp](http://gulpjs.com/) before, be sure to check out the [Getting Started](https://github.com/gulpjs/gulp/blob/master/docs/getting-started.md) guide, as it explains how to create a [gulpfile](https://github.com/gulpjs/gulp/tree/master/docs/recipes) as well as install and use Gulp plugins. Once you're familiar with that process, you may install this plugin with this command:

```shell
npm install git+http://gitlab2.uit.nhncorp.com/RND/gulp-nts-uit-index-helper.git --save-dev
```

Once the plugin has been installed, it may be enabled inside your gulpfile with this line of JavaScript:

```js
var uitIndex = require('gulp-nts-uit-index-helper');
```

### 타이틀을 가져오는 HTML 안내
```html
<title>[그룹명] 타이틀명</title>
<title>타이틀명</title>
```
&lt;title&gt; 값을 읽어 옴

```html
<!-- pageTitle: "[그룹명] 타이틀명" -->
<!-- pageTitle: "타이틀명" -->
```
&lt;!-- pageTitle: "..." --&gt; 해당되는 텍스트 값을 가져옴

```php
<?php $pageTitle = "[그룹명] 타이틀명" ?>
<?php $pageTitle = "타이틀명" ?>
```
php의 경우 $pageTitle에 할당되는 텍스트 값도 확인하여 가져옴.

html,php title이 없거나 패턴에 맞지 않을 경우 파일명으로 출력

### The "uit_index" task


#### 기본 사용법
```js
gulp.task('uit_index',function(){
  gulp.src(['src/**/*.html','src/**/*.php']) // 인덱스 대상 파일 선택
  .pipe(uitIndex())
  .pipe(gulp.dest('src/')); // 인덱스 저장 경로
});
```

#### 확장 옵션 설정 ([Options](#options) 참고)
```js
gulp.task('uit_index',function(){
  gulp.src(['src/**/*.html','src/**/*.php']) // 인덱스 대상 파일 선택
  .pipe(uitIndex({ // 옵션 설정.
    filename: '@index',
    title: '마크업 산출물',
    exJs: false,
    html: true,
    qrcode: true,
    fold: false,
    fileSort: 'file',
    groupSort: 'asc',
  }))
  .pipe(gulp.dest('src/')); // 인덱스 저장 경로
});
```

#### [Index Page DEMO](http://view.gitlab2.uit.nhncorp.com/RND/gulp-nts-uit-index-helper/raw/master/test/@index.html)

#### [exJs를 위한 예제 파일 (example/@index.html)](http://gitlab2.uit.nhncorp.com/RND/gulp-nts-uit-index-helper/raw/master/example/@index.html)

* 수정 시 주의 사항
  * #multi_select, #groupList, #defaultList 의 구성요소는 포함하여야 합니다.
  * js 파일은 body 마지막에 삽입하여야 합니다.

### view url 생성 기능
![view url 생성](http://gitlab2.uit.nhncorp.com/RND/gulp-nts-uit-index-helper/uploads/ef60a04cd01579c9c66a130b6a18152d/view_url_desc.png)

### Options

#### options.filename
Type: `String`  
Default value: `'@index'`

- 파일명 (@index.html, @index.js)

#### options.title
Type : `String`  
Default value: `'마크업 산출물'`

- index 파일 내의 타이틀 설정

#### options.exJs
Type: `Boolean`  
Default value: `false`

- true = 데이터와 js코드를 포함한 파일을 분리 함
- false = html 파일 안에 데이터와 js 코드 삽입

#### options.html
Type: `Boolean`  
Default value: `true`

- true = html 파일을 출력
- false = html 파일을 출력하지 않음 (inJson이 false인 경우 json만 출력)

#### options.qrcode
Type: `Boolean`  
Default value: `true`

- true = html 내에 qrcode 출력
- false = html 내에 qrcode 출력하지 않음

#### options.fold
Type: `Boolean`
Default value: `false`

- true = 그룹별 접기 기능 추가
- false = 그룹별 접기 기능 제외

#### options.fileSort
Type: `String`  
Default value: `file`
- 파일 리스트 정렬 기준
- file = 파일명 기준 정렬
- title = 타이틀명 기준 정렬

#### options.groupSort
Type: `String`  
Default value: `asc`
- 그룹 정렬 기준
- asc = 오름차순
- desc = 내림차순

## [CHANGELOG](CHANGELOG.md)
